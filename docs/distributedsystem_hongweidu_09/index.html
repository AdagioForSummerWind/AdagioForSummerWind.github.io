<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>DistributedSystem_HongweiDu_09 - Jefo</title><meta name="Description" content="Jefo"><meta property="og:title" content="DistributedSystem_HongweiDu_09" />
<meta property="og:description" content="2021哈工大深圳堵宏伟分布式系统课程笔记 Group Communication群组通信 Modes of communication： One-to-One Unicast 1&lt;&ndash;&gt;1 Point-to-point Anycast 1-&gt;nearest 1 of several identical nodes Introduced with IPv6; used" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" /><meta property="og:image" content="https://qizhengzou.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-03T14:36:23+08:00" />
<meta property="article:modified_time" content="2022-01-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://qizhengzou.github.io/logo.png"/>

<meta name="twitter:title" content="DistributedSystem_HongweiDu_09"/>
<meta name="twitter:description" content="2021哈工大深圳堵宏伟分布式系统课程笔记 Group Communication群组通信 Modes of communication： One-to-One Unicast 1&lt;&ndash;&gt;1 Point-to-point Anycast 1-&gt;nearest 1 of several identical nodes Introduced with IPv6; used"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" /><link rel="prev" href="https://qizhengzou.github.io/distributedsystem_hongweidu_08/" /><link rel="next" href="https://qizhengzou.github.io/distributedsystem_hongweidu_10/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "DistributedSystem_HongweiDu_09",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/qizhengzou.github.io\/distributedsystem_hongweidu_09\/"
        },"image": ["https:\/\/qizhengzou.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "distributed system","wordcount":  2537 ,
        "url": "https:\/\/qizhengzou.github.io\/distributedsystem_hongweidu_09\/","datePublished": "2021-12-03T14:36:23+08:00","dateModified": "2022-01-01T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Jefo","logo": "https:\/\/qizhengzou.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Jefo"
            },"description": ""
    }
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-193031966-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-193031966-2');
</script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Jefo"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Jefo</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> All posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/qizhengzou" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="直接搜索更方便^-^" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Jefo"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Jefo</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="直接搜索更方便^-^" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">All posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/qizhengzou" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">DistributedSystem_HongweiDu_09</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jefo</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/school-courses/"><i class="far fa-folder fa-fw"></i>School courses</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-12-03 14:36:23">2021-12-03 14:36:23</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 2537 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 6 分钟&nbsp;<span id="busuanzi_container_page_pv">
                    <i class="far fa-eye fa-fw"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;次阅读量</span>
                </span>
            </div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#implementing-group-communication-mechanisms组播">Implementing Group Communication Mechanisms组播</a></li>
    <li><a href="#reliability-of-multicasts-组播可靠性">Reliability of multicasts 组播可靠性</a></li>
    <li><a href="#message-ordering-消息顺序">Message ordering 消息顺序</a></li>
    <li><a href="#ip-multicast-routing">IP multicast routing</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><blockquote>
<p>2021哈工大深圳堵宏伟分布式系统课程笔记</p>
</blockquote>
<h1 id="group-communication群组通信">Group Communication群组通信</h1>
<p>Modes of communication：</p>
<ul>
<li>One-to-One
<ul>
<li>Unicast
<ul>
<li>1&lt;&ndash;&gt;1</li>
<li>Point-to-point</li>
</ul>
</li>
<li>Anycast
<ul>
<li>1-&gt;nearest 1 of several identical nodes</li>
<li>Introduced with IPv6; used with BGP routing protocol</li>
</ul>
</li>
</ul>
</li>
<li>One-to-many
<ul>
<li>Multicast
<ul>
<li>1-&gt;many</li>
<li><strong>Group communication</strong></li>
</ul>
</li>
<li>Broadcast
<ul>
<li>1-&gt;all</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Groups:</p>
<ul>
<li><strong>Groups allow us to deal with a collection of processes as one abstraction</strong></li>
<li>Send message to one entity
<ul>
<li>Deliver to entire group</li>
</ul>
</li>
<li>Groups are dynamic
<ul>
<li>Created and destroyed</li>
<li>Processes can join or leave
<ul>
<li>May belong to 0 or more groups</li>
</ul>
</li>
</ul>
</li>
<li>Primitives
<ul>
<li>join_group, leave_group,  send_to_group, query_membership(sometimes)</li>
</ul>
</li>
</ul>
<p>Design Issues:</p>
<ul>
<li>Closed vs. Open
<ul>
<li>Closed: only group members can sent messages</li>
</ul>
</li>
<li>Peer vs. Hierarchical
<ul>
<li>Peer: each member communicates with the entire group</li>
<li>Hierarchical: go through coordinator(s)
<ul>
<li><strong>Root coordinator</strong>: forwards message to appropriate subgroup coordinators</li>
</ul>
</li>
</ul>
</li>
<li>Managing membership &amp; group creation/deletion
<ul>
<li>Distributed vs. centralized</li>
</ul>
</li>
<li>Leaving &amp; joining must be synchronous</li>
<li>Fault tolerance (容错性）
<ul>
<li>Reliable message delivery? What about missing members?</li>
</ul>
</li>
</ul>
<p>Failure considerations:</p>
<ul>
<li>The same things bite us with unicast communication</li>
<li>Crash failure
<ul>
<li>Process stops communicating</li>
</ul>
</li>
<li>Omission failure (typically due to network)
<ul>
<li>Send omission: A process fails to send messages</li>
<li>Receive omission: A process fails to receive messages</li>
</ul>
</li>
<li>Byzantine failure
<ul>
<li>Some messages are faulty</li>
</ul>
</li>
<li>Partition failure
<ul>
<li>The network may get segmented, dividing the group into two or more unreachable sub-groups</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162357.png" /></li>
</ul>
<h2 id="implementing-group-communication-mechanisms组播">Implementing Group Communication Mechanisms组播</h2>
<p>Hardware multicast:</p>
<ul>
<li>If we have hardware support for multicast
<ul>
<li>Group members listen on network address</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162524.png" /></li>
</ul>
<p>Broadcast:</p>
<ul>
<li>Diffusion group: send to all clients &amp; then filter
<ul>
<li>Software filters incoming multicast address</li>
<li>May use auxiliary address (not in the network address header) to identify group</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162629.png" /></li>
</ul>
<p>Hardware multicast &amp; broadcast:</p>
<ul>
<li>Ethernet supports both multicast &amp; broadcast</li>
<li>Limited to local area networks</li>
</ul>
<p>Software implementation: multiple unicasts:</p>
<ul>
<li>Sender knows group members</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162709.png" /></li>
</ul>
<p>Software implementation: hierarchical：</p>
<ul>
<li>Multiple unicasts via group coordinator
<ul>
<li>Coordinator knows group members</li>
<li>Coordinator iterates through group members</li>
<li>May support a hierarchy of coordinators</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101162744.png" /></li>
</ul>
<h2 id="reliability-of-multicasts-组播可靠性">Reliability of multicasts 组播可靠性</h2>
<p>Atomic multicast：</p>
<ul>
<li>Atomicity （原子性）
<ul>
<li>Message sent to a group arrives at all group members</li>
<li>If it fails to arrive at any member, no member will process it</li>
</ul>
</li>
<li>Problems
<ul>
<li>Unreliable network</li>
<li>Each message should be acknowledged</li>
<li>Acknowledgements can be lost</li>
<li>Message sender might die</li>
</ul>
</li>
</ul>
<p>Achieving atomicity：</p>
<ul>
<li>General idea
<ul>
<li>Ensure that every recipient acknowledges receipt of the message</li>
<li>Only then allow the application to process the message</li>
<li>If we give up on a recipient
<ul>
<li>then no recipient can process that received message</li>
</ul>
</li>
</ul>
</li>
<li>Easier said than done!
<ul>
<li>What if a recipient dies after acknowledging the message?
<ul>
<li>Is it obligated to restart?</li>
<li>If it restarts, will it know to process the message?</li>
</ul>
</li>
<li>What if the sender (or coordinator) dies partway through the protocol?</li>
</ul>
</li>
</ul>
<p><strong>Achieving atomicity–example 1</strong>：</p>
<ul>
<li>Retry through network failures &amp; system downtime
<ul>
<li>Sender &amp; receivers maintain a persistent log</li>
<li>Each message has a unique ID so we can discard duplicates</li>
<li>Sender</li>
</ul>
</li>
<li>Send message to all group members
<ul>
<li>Write message to log</li>
<li>Wait for acknowledgement from each group member</li>
<li>Write acknowledgement to log</li>
<li>If timeout on waiting for an acknowledgement, retransmit to group member</li>
</ul>
</li>
<li>Receiver
<ul>
<li>Log received non-duplicate message to persistent log</li>
<li>Send acknowledgement</li>
</ul>
</li>
<li><strong>NEVER GIVE UP!</strong>
<ul>
<li>Assume that dead senders or receivers will be rebooted and will restart where they left off</li>
</ul>
</li>
</ul>
<p><strong>Achieving atomicity–example 2</strong>：</p>
<ul>
<li>Redefine the group
<ul>
<li>If some members failed to receive the message:
<ul>
<li>Remove the failed members from the group</li>
<li>Then allow existing members to process the message</li>
</ul>
</li>
<li>But still need to account for the death of the sender
<ul>
<li>Surviving group members may need to take over to ensure all current group members receive the message</li>
</ul>
</li>
<li>This is the approach used in virtual synchrony</li>
</ul>
</li>
</ul>
<p>Reliable multicast：</p>
<ul>
<li>All non-faulty group members will receive the message
<ul>
<li>Assume sender &amp; recipients will remain alive</li>
<li>Network may have glitches
<ul>
<li>Try to retransmit undelivered messages &hellip; but eventually give up</li>
</ul>
</li>
<li>It’s OK if some group members don’t get the message</li>
</ul>
</li>
<li>Acknowledgements
<ul>
<li>Send message to each group member</li>
<li>Wait for acknowledgement from each group member</li>
<li>Retransmit to non-responding members</li>
<li>Subject to feedback implosion</li>
</ul>
</li>
</ul>
<p>Optimizing Acknowledgements：</p>
<ul>
<li>Easiest thing is to wait for an ACK before sending the next message
<ul>
<li>But that incurs a round-trip delay</li>
</ul>
</li>
<li>Optimizations
<ul>
<li>Pipelining
<ul>
<li>Send multiple messages –receive ACKs asynchronously</li>
<li>Set timeout –retransmit message for missing ACKs</li>
</ul>
</li>
<li>Cumulative ACKs
<ul>
<li>Wait a little while before sending an ACK</li>
<li>If you receive others, then send one ACK for everything</li>
</ul>
</li>
<li>Piggybacked ACKs
<ul>
<li>Send an ACK along with a return message</li>
</ul>
</li>
<li>Negative ACKs
<ul>
<li>Use a sequence # on each message</li>
<li>Receiver requests retransmission of a missed message</li>
<li>More efficient but requires sender to buffer messages indefinitely</li>
<li>TCP does the first three of these&hellip;but now we have to do this for each recipient</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Unreliable multicast (best effort)：</p>
<ul>
<li>Basic multicast</li>
<li>Hope it gets there</li>
</ul>
<h2 id="message-ordering-消息顺序">Message ordering 消息顺序</h2>
<p>Good Ordering：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163433.png" />
Bad Ordering：</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163453.png" />
Good Ordering：</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163514.png" />
Bad Ordering：</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163534.png" /></li>
</ul>
<p>Sending vs. Receiving vs. Delivering：</p>
<ul>
<li>Multicast receiver algorithm decides when to deliver a message to the process.</li>
<li>A received message may be:
<ul>
<li>Delivered immediately
<ul>
<li>(put on a delivery queue that the process reads)</li>
</ul>
</li>
<li>Placed on a hold-back queue
<ul>
<li>(because we need to wait for an earlier message)</li>
</ul>
</li>
<li>Rejected/discarded
<ul>
<li>(duplicate or earlier message that we no longer want)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Sending, delivering, holding back：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101163638.png" /></li>
</ul>
<p>Global time ordering：</p>
<ul>
<li>All messages are delivered in exact order sent</li>
<li>Assumes two events never happen at the exact same time!</li>
<li>Difficult (impossible) to achieve</li>
<li>Not viable</li>
</ul>
<p>Total ordering （全序）：</p>
<ul>
<li>Consistent ordering at all receivers</li>
<li>All messages are delivered at all group members in the same order
<ul>
<li>They are sorted in the same order in the delivery queue</li>
</ul>
</li>
</ul>
<ol>
<li>If a process sends m before m' then any other process that delivers m' will have delivered m.</li>
<li>If a process delivers m' before m&quot; then every other process will have delivered m' before m&quot;.</li>
</ol>
<ul>
<li>Implementation:
<ul>
<li>Attach unique totally sequenced message ID</li>
<li>Receiver delivers a message to the application only if it has received all messages with a smaller ID</li>
</ul>
</li>
</ul>
<p>Causal ordering：</p>
<ul>
<li>Also known as partial ordering 偏序
<ul>
<li>Messages sequenced by Lamport or Vector timestamps</li>
</ul>
</li>
<li>If multicast(G, m)→multicast(G, m) then every process that delivers m' will have delivered m</li>
<li>If message m’ is causally dependent on message m, all processes must deliver m before m’.</li>
</ul>
<p>Causal ordering example：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164012.png" /></li>
</ul>
<p>Causal ordering –implementation：</p>
<ul>
<li>Implementation: Pa receives a message from Pb
<ul>
<li>Each process keeps a precedence vector(similar to vector timestamp)</li>
<li>Vector is updated on multicast send and receive events
<ul>
<li>Each entry = # of latest message from the corresponding group member that causally precedes the event</li>
</ul>
</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164121.png" /></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164257.png" /></li>
</ul>
<p>Causal Ordering: Example：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164343.png" /></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164407.png" /></li>
<li>P2 receives message m0 from P0 with V=(1,0,0)
<ul>
<li>(1) Is this in FIFO order from P0?
<ul>
<li>Compare current V on P2: V2=(0,0,0) with received V from P2, V2=(1,0,0)</li>
<li>Yes: V2[0] = 0, received V1[0] = 1 ⇒ sequential</li>
</ul>
</li>
<li>(2) Is V0[i] ≤ V2[i] for all other i?
<ul>
<li>Yes. (0 ≤ 0), (0 ≤ 0).</li>
</ul>
</li>
<li>Deliver m0. Update precedence vector from (0, 0, 0) to (1, 0, 0)</li>
<li>Now check hold-back queue. Can we deliver m1?</li>
</ul>
</li>
<li>(1) Is the held-back message m1 in FIFO order from P0?
<ul>
<li>Compare current V on P2: V2=(1,0,0) with held-back V from P0, V1=(1,1,0)</li>
<li>Yes: (current V2[1] = 0) vs. (received V1[1] = 1) ⇒ sequential</li>
</ul>
</li>
<li>(2) Is V0[i] ≤ V2[i] for all other i?
<ul>
<li>Now yes. (V0[0] = 1) ≤ (V2[0] = 1) and element 2: (V0[2] = 0) ≤ (V2[2] = 0)</li>
</ul>
</li>
<li>Deliver m1.
<ul>
<li>Causal ordering can be implemented more efficiently than total ordering:
<ul>
<li>No need for a global sequencer.</li>
<li>Expect reliable delivery but we may not need to send immediate acknowledgements.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Sync ordering：</p>
<ul>
<li>Messages can arrive in any order</li>
<li>Special message type
<ul>
<li>Synchronization primitive</li>
<li>Ensure all pending messages are delivered before any additional (post-sync) messages are accepted</li>
</ul>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164647.png" /></li>
</ul>
<p>Single Source FIFO (SSF) ordering：</p>
<ul>
<li>Messages from the same source are delivered in the order they were sent.</li>
<li>Message m must be delivered before message m’ iff m was sent before m’ from the same host</li>
<li><strong>If a process issues a multicast of m followed by m', then every process that delivers m' will have already delivered m.</strong></li>
</ul>
<p>Unordered multicast：</p>
<ul>
<li>Messages can be delivered in different order to different members</li>
<li>Order per-source does not matter.</li>
</ul>
<p>Multicasting considerations：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101164842.png" /></li>
</ul>
<h2 id="ip-multicast-routing">IP multicast routing</h2>
<p>IP multicast routing：</p>
<ul>
<li>Deliver messages to a subset of nodes
<ul>
<li>Send to a multicast address</li>
</ul>
</li>
<li>How do we identify the recipients?
<ul>
<li>Enumerate them in the header?
<ul>
<li>What if we don’t know?</li>
<li>What if we have thousands of recipients?</li>
</ul>
</li>
</ul>
</li>
<li>Use a special address to identify a group of receivers
<ul>
<li>A copy of the packet is delivered to all receivers associated with that group</li>
<li>IPv4: Class D multicast IP address
<ul>
<li>32-bit address that starts with 1110</li>
<li>(224.0.0.0/4 = 224.0.0.0 – 239.255.255.255 )</li>
</ul>
</li>
<li>IPv6: 128-bit address with high-order bits 8 bits all 1</li>
<li><strong>Host group</strong> = set of machines listening to a particular multicast address
<ul>
<li>A copy of the message is delivered to all receivers associated with that group</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>IP multicasting：</p>
<ul>
<li>Can span multiple physical networks</li>
<li>Dynamic membership
<ul>
<li>Machine can join or leave at any time</li>
</ul>
</li>
<li>No restriction on number of hosts in a group</li>
<li>Machine does not need to be a member to send messages</li>
<li>Efficient: Packets are replicated only when necessary</li>
<li>Like IP, no delivery guarantees</li>
</ul>
<p>IP multicast addresses：</p>
<ul>
<li>Addresses chosen arbitrarily for an application</li>
<li>Well-known addresses assigned by IANA</li>
<li><strong>Internet Assigned Numbers Authority</strong></li>
<li>IPv4 addresses: <a href="http://www.iana.org/assignments/multicast-addresses/multicast-addresses.xml" target="_blank" rel="noopener noreffer">http://www.iana.org/assignments/multicast-addresses/multicast-addresses.xml</a></li>
<li>IPv6 addresses: <a href="https://www.iana.org/assignments/ipv6-multicast-addresses/ipv6-multicast-addresses.xhtml" target="_blank" rel="noopener noreffer">https://www.iana.org/assignments/ipv6-multicast-addresses/ipv6-multicast-addresses.xhtml</a>
<ul>
<li>Similar to ports – service-based allocation
<ul>
<li>For ports, we have:
<ul>
<li>FTP: port 21, SMTP: port 25, HTTP: port 80</li>
</ul>
</li>
<li>For multicast, we have:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">224.0.0.1:                all systems on this subnet
224.0.0.2:                all multicast routers on subnet 
224.0.23.173:          Philips Health
224.0.23.52:            Amex Market Data 
224.0.12.0-63:         Microsoft &amp; MSNBC 
FF02:0:0:0:0:0:0:9:    RIP routers
</code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
</ul>
<p>IGMP 因特网组管理协议:</p>
<ul>
<li>Internet Group Management Protocol (IGMP)
<ul>
<li>Operates between a host and its attached router</li>
<li>Goal: allow a router to determine to which of its networks to forward IP multicast traffic</li>
<li>IP protocol (IP protocol number 2)</li>
</ul>
</li>
<li>Three message types
<ul>
<li>Membership_query
<ul>
<li>Sent by a router to all hosts on an interface to determine the set of all multicast groups that have been joined by the hosts on that interface</li>
</ul>
</li>
<li>Membership_report
<ul>
<li>Host response to a query or an initial join or a group</li>
</ul>
</li>
<li>Leave_group
<ul>
<li>Host indicates that it is no longer interested</li>
<li>Optional: router infers this if the host does not respond to a query</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Multicast Forwarding:</p>
<ul>
<li>IGMP allows a host to subscribe to receive a multicast stream</li>
<li>What about the source?
<ul>
<li>There is no protocol for the source!</li>
<li>It just sends one message to a class D address</li>
<li>Routers have to do the work</li>
</ul>
</li>
</ul>
<p>IGMP &amp; Wide-Area Multicast Routing:</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101165437.png" /></li>
</ul>
<p>Multicast Forwarding:</p>
<ul>
<li>IGMP: Internet Group Management Protocol
<ul>
<li>Designed for routers to talk with hosts on directly connected networks</li>
</ul>
</li>
<li>PIM: Protocol Independent Multicast 独立组播协议
<ul>
<li>Multicast Routing Protocol for delivering packets across routers</li>
<li>Topology discovery is handled by other protocols</li>
<li>Two forms:
<ol>
<li>Dense Mode (PIM-DM) 密集模式</li>
<li>Sparse Mode (PIM-SM) 稀疏模式</li>
</ol>
</li>
</ul>
</li>
</ul>
<p>Flooding: Dense Mode Multicast (PIM-DM):</p>
<ul>
<li>Relay multicast packet to all connected routers
<ul>
<li>Use a spanning tree and reverse path forwarding (RPF) to avoid loops</li>
<li>Feedback &amp; cut off if there are no interested receivers on a link
<ul>
<li>A router sends a prune message.</li>
<li>Periodically, routers send messages to refresh the prune state</li>
</ul>
</li>
<li><strong>Flooding is initiated by the sender’s router</strong></li>
</ul>
</li>
<li><strong>Reverse path forwarding (RPF)</strong>: avoid routing loops（逆向路径转发）
<ul>
<li>Packet is duplicated &amp; forwarded ONLY IF it was received via the link that is the shortest path to the sender</li>
<li>Shortest path is found by checking the router’s forwarding table to the source address</li>
</ul>
</li>
</ul>
<p>Flooding: Dense Mode Multicast:</p>
<ul>
<li>Advantage:
<ul>
<li>Simple</li>
<li>Good if the packet is desired in most locations</li>
</ul>
</li>
<li>Disadvantage:
<ul>
<li>wasteful on the network, wasteful extra state &amp; packet duplication on routers</li>
</ul>
</li>
</ul>
<p>Sparse Mode Multicast (PIM-SM):</p>
<ul>
<li>Initiated by the routers at each receiver</li>
<li>Each router needs to ask for a multicast feed with a PIM Join message
<ul>
<li>Initiated by a router at the destination that gets an IGMP join</li>
<li>Rendezvous Point: meeting place between receivers &amp; source
<ul>
<li>Join messages propagate to a defined rendezvous point (RP)</li>
<li>Sender transmits only to the rendezvous point</li>
<li>RP announcement messages inform edge routes of rendezvous points</li>
</ul>
</li>
<li>A Prune message stops a feed</li>
</ul>
</li>
<li>Advantage
<ul>
<li>Packets go only where needed</li>
<li>Creates extra state in routers only where needed</li>
</ul>
</li>
</ul>
<p>IP Multicast in use:</p>
<ul>
<li>Initially exciting:
<ul>
<li>Internet radio, NASA shuttle missions, collaborative gaming</li>
</ul>
</li>
<li>But:
<ul>
<li>Few ISPs enabled it</li>
<li>For the user, required tapping into existing streams(not good for on-demand content)</li>
<li>Industry embraced unicast instead</li>
</ul>
</li>
</ul>
<p>IP Multicast in use: IPTV:</p>
<ul>
<li>IPTV has emerged as the biggest user of IP multicast
<ul>
<li>Cable TV networks have migrated (or are migrating) to IP delivery</li>
</ul>
</li>
<li>Cable TV systems: aggregate bandwidth ~ 4.5 Gbps
<ul>
<li>Video streams: MPEG-2 or MPEG-4 (H.264)</li>
<li>MPEG-2 HD: ~30 Mbps ⇒ 150 channels = ~4.5 Gbps</li>
<li>MPEG-4 HD: ~6-9 Mbps; DVD quality: ~2 Mbps</li>
</ul>
</li>
<li>Multicast
<ul>
<li>Reduces the number of servers needed</li>
<li>Reduces the number of duplicate network streams</li>
</ul>
</li>
</ul>
<p>IP Multicast in use: IPTV:</p>
<ul>
<li>Multicast allows one stream of data to be sent to multiple subscribers using a single address</li>
<li>IGMP from the client
<ul>
<li>Subscribe to a TV channel</li>
<li>Change channels</li>
</ul>
</li>
<li>Use unicast for video on demand</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-01-01 00:00:00</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" data-title="DistributedSystem_HongweiDu_09" data-hashtags="distributed system"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" data-hashtag="distributed system"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Reddit" data-sharer="reddit" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" data-title="DistributedSystem_HongweiDu_09"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" data-title="DistributedSystem_HongweiDu_09"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 百度" data-sharer="baidu" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_09/" data-title="DistributedSystem_HongweiDu_09"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/baidu.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/distributed-system/">distributed system</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/distributedsystem_hongweidu_08/" class="prev" rel="prev" title="DistributedSystem_HongweiDu_08"><i class="fas fa-angle-left fa-fw"></i>DistributedSystem_HongweiDu_08</a>
            <a href="/distributedsystem_hongweidu_10/" class="next" rel="next" title="DistributedSystem_HongweiDu_10">DistributedSystem_HongweiDu_10<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://jefos-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"J0OW8CCKJZ","algoliaIndex":"JF","algoliaSearchKey":"3b4a19e831c95174aca4c03fcdf95f5c","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
