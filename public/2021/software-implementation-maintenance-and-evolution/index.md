# SEK_base_06

# 软件实施、维护和演化 19：52
## 6.1 敏捷开发
### 敏捷方法概述 
#### 软件开发之道 
传统的开发模式，瀑布模型是最典型的预见性开发方法，严格遵循预先计划的需求分析、设计、编码、集成、测试、维护的步骤顺序进行。

**软件开发是一个逐步认知和明晰的活动。软件开发中的变化是实际存在和必然的。**

今天的软件开发过程更应侧重于
- 弹性的开发管理方式
- 通过初始计划开始工作
- 项目的资源管理和控制

**软件开发应更关注于交付的价值**
- 高质量的交付物是最重要的
- 系统不是一次构建而成，而是迭代演进的
- 基于完整的场景构建计划，并按优先级执行

**好的架构（产品）是长出来的，而不是设计出来的**


#### 敏捷方法与敏捷宣言 
敏捷开发方法：
- 敏捷开发是一种基于更紧密的团队协作、能够有效应对快速变化需求、快速交付高质量软件的迭代和增量的新型软件开发方法。
- 更关注协作
- 更关注质量
- 更关注可工作的产品
- 更关注全才化的专才
- 基于实践而非基于理论

**敏捷方法：适应而非预测**
- 需求是不可预测的
- 软件开发应是一个自适应的跟踪过程

敏捷方法：
- **以人为导向而非过程导向**

![](https://raw.githubusercontent.com/QizhengZou/Drawing_bed/main/20211228200941.png)

敏捷开发方法
- 软件更像一个活着的植物，软件开发是自底向上逐步有序的生长过程，类似于植物自然生长。敏捷方法遵循软件的客观规律，不断进行迭代式增量开发，最终交付符合客户价值的产品。


**敏捷宣言**：
- 我们正在通过亲身实践以及帮助他人实践，揭示更好的软件开发方法。通过这项工作，我们认为：
    - 个体和交互 胜过 过程和工具
    - 可以工作的软件 胜过 面面俱到的文档
    - 客户合作 胜过 合同谈判
    - 响应变化 胜过 遵循计划
#### 敏捷开发核心理念 
敏捷核心理念：
- **聚焦客户价值**
    - 消除软件开发中的浪费
    - 交付刚刚好的系统
    - 随时构建质量，不容忍缺陷
    - 及时消除技术债务，持续保持快速响应
- **激发团队潜能**
    - 团队是价值的真正创造者，应加强团队协作，激发团队潜能
    - 软件开发是一种团队活动，首先应做到提升沟通效率降低交流成本
- **不断调整以适应变化**
    - 客户是逐步发现真正需求
    - 小批量是快速交付的关键
    - 通过迭代计划不断调整以适应变化
    - 应持续保持良好的软件架构
    - 利用多层次反馈不断调整以逼近目标
#### 敏捷开发方法的应用 
- ISO 9000（09版）标准将在原来八大原则的基础上新增敏捷原则
- 2000年美国军方软件开发标准（DOD 5000.2）推荐迭代为软件开发优选模式
- 2013年发布的新版PMBOK增加迭代及增量生命周期（即对应敏捷模型）
### Scrum框
#### Scrum框架介绍 
**Scrum是一种兼顾计划性与灵活性的敏捷开发过程，它将整个开发过程分为若干次更小的迭代，每个迭代周期称为一个冲刺（Sprint）**

Scrum迭代开发：
- **迭代开发将整个软件生命周期分成多个小的迭代（一般2~4周），每一次迭代就是一个小的瀑布模型，包括需求分析、设计、实现和测试等活动，结束时都要生成一个稳定和被验证过的软件版本**。
- 迭代开发的关键要点：
    - 每一次迭代都建立在稳定的质量基础上，并做为下一轮迭代的基线，整个系统的功能随着迭代稳定地增长和不断完善。
    - 每次迭代要邀请用户代表验收，提供需求是否满足的反馈。
    - 在一次迭代中，一旦团队作出承诺，就不允许变更交付件和交付日期；如果发生重大变化，产品负责人可以中止当次迭代。
    - 在迭代中可能会出现“分解”和“澄清”，但是不允许添加新工作或者对现有的工作进行“实质变更”
    - 对于“分解”和“澄清”，如果存在争议，那么将其认定为变更，放到产品订单中下一次迭代再考虑。
#### Scrum团队角色 
- **产品负责人**（Product Owner）
    - 职责：定义开发目标以及需要实现的特性和优先级。
- **Scrum主管**（Scrum Master）
    - 职责：保证团队高效而不受打扰地工作，优化工作条件和过程。
- **团队成员**（Team）
    - 职责：自组织地完成项目开发，使用一切可行手段保证进度和质量。

Scrum团队组织：
- 民主式结构：小组成员完全平等，名义上的组长与其他成员没有任何区别；大家享有充分的民主，项目工作由全体讨论协商决定，并根据每个人的能力和经验进行适当分配。
    - 优点：同等的项目参与权激发大家的创造力，有利于攻克技术难关
    - 缺点：缺乏明确的权威领导，很难解决意见分歧

全功能的整体团队：
- ![](https://raw.githubusercontent.com/QizhengZou/Drawing_bed/main/20211228202146.png)

#### Scrum制品和活动 
Scrum制品：
- 产品订单是从客户价值角度理解的产品功能列表。
    - 功能、缺陷、增强等都可以是产品订单项
    - 整体上从客户价值进行优先级排序
- 迭代订单是从开发技术角度理解的迭代开发任务。
    - 简单环境：可直接把产品订单项分配到迭代中
    - 复杂环境：可把一个产品订单项分为Web/后台……软件/硬件……程序/美工……等开发任务
- 可工作软件是可交付的软件产品。
    - “可交付”应视不同情况前提设定和选定交付标准
    - 正式产品可能包括使用文档，在新产品开发初期可能只需要交付勉强看到效果的产品

Scrum活动：
- ![](https://raw.githubusercontent.com/QizhengZou/Drawing_bed/main/20211228203125.png)

#### 敏捷规划与可视化管理
实行两级项目规划：
- 将面向整个项目范围的宏观计划和面向当前下一次迭代的微观计划相结合,渐进明细地进行项目规划。
- 发布规划是对整个产品发布过程的展望，其结果是产生产品订单。
    - 发布规划
        - 定义用户故事并进行优先级划分
        - 估算规模以及评估团队开发速度
        - 制定发布计划
    - 发布规划是对整个产品发布过程的展望，通常的规划周期是3～6个月。
- 迭代规划只是对一次迭代的展望，其结果是确定包含一次迭代中具体工作任务的迭代订单。
    - 迭代规划
        -  确定迭代目标并选择用户故事
        - 将用户故事分解和细化到任务
        - 对故事和任务进行实践估算
    - 迭代规划将产生Scrum中提到的迭代订单，一般迭代周期为4周的时间

**可视化管理**：
- 任务白板是团队开发的晴雨表，它将团队的任务和进度可视化地展现出来。而引入电子白板可能会削减团队之间的沟通，降低团队的透明度，违背了敏捷重视人和团队的原则。
- 燃尽图：以图形化方式展现了剩余工作量（Y轴）与时间（X轴）的关系。

## 6.2 软件实施、维护与演化
### 软件交付工作
**项目验收交付时，还有三项工作在等着：实施、培训、验收**

项目实施
- **项目实施是将软件系统部署到客户方的计算机系统上，协助客户准备基础数据，使软件系统顺利上线运行。**
    - 保证软件符合需求，质量过关
        - 全面做好测试工作（集成测试、功能测试、性能测试）
    - 制定实施计划
        - 要发布的代码版本、数据库创建方式、基础数据准备方式
    - 准备好程序代码和相关文档
        - 用户手册以及其他系统文档（如需求说明书、设计文档等）

客户培训
- **在系统安装完成、基础数据准备齐全之后，应该组织客户培训，使其掌握对软件系统的使用和操作。**
    - 选择合适的培训人员
        - 经验丰富、了解业务和系统
    - 准备好培训内容
        - 不要临时抱佛脚
    - 制定培训计划
        - 与客户沟通协调，安排时间

项目验收
- **客户对系统进行验收测试，包括范围核实（用户需求是否全部实现）和质量核实（质量属性是否满足要求）**
    - 客户在验收报告上签字，一切尘埃落定。对于大中型项目，还会有一个签字验收仪式
### 软件演化法则
软件变化原因：
- 软件的变化是不可避免的
    - 软件在使用过程中，新的需求不断出现
    - 商业环境在不断地变化
    - 软件中的缺陷需要进行修复
    - 计算机硬件和软件环境的升级需要更新现有的系统
    - 软件的性能和可靠性需要进一步改进
- 关键：采取适当的策略，有效地实施和管理软件的变化！

**Lehman法则**：
- 持续变化 在用的程序持续地经历变化，或逐渐变得不可用。
- 递增复杂性 程序的不断修改将导致结构恶化，增加了复杂性。
- 程序演化法则 程序演化服从统计上的确定趋势和恒定性。
- 组织稳定守恒 编程项目总体活动统计上是不变的。
- 熟悉程度守恒 后续发行对于整个系统功能不会产生很大改变。

软件演化策略：
- 软件维护
    - **为了修改软件的缺陷或者增加新功能而对软件进行修改**；软件的修改通常发生在局部，一般不会改变整个结构。
- 软件再工程
    - **为了避免软件本身退化**而对软件的一部分进行重新设计、编码和测试，以便提高软件的可维护性和可靠性等。

### 软件维护
软件维护类型
- 软件维护是软件被投入运行使用后人们对软件产品所进行的修改，变更通常是修改现有的组件或增加新的组件，一般不涉及体系结构的重大变化。
    - 改正性维护：修改软件缺陷或不足（17%）
    - 适应性维护：修改软件使其适应不同操作环境，主要包括硬件变化、操作系统变化或者其他支持软件变化等（18%）
    - 完善性维护：增加或修改系统功能，使其适应业务的变化（65%）

软件维护成本
- 软件维护成本是很昂贵的
- 业务应用系统：维护费用与开发成本大体相同
- 嵌入式实时系统：维护费用是开发成本的四倍以上

影响维护成本的因素
- 团队稳定性：系统移交后开发团队会解散，人员分配到其他项目中，负责维护的人员通常不是原开发人员，需要花时间理解系统。
- 合同责任：维护合同一般独立于开发合同，这样开发人员有可能缺少为方便维护而写软件的动力。
- 人员技术水平：维护人员有可能缺乏经验，而且不熟悉应用领域。
- 程序年龄与结构：程序结构随年龄增加而受到破坏，不易理解和变更。

软件维护过程：
- ![](https://raw.githubusercontent.com/QizhengZou/Drawing_bed/main/20211228210151.png)
### 软件再工程
软件再工程
- 重新构造或编写现有系统的一部分或全部，但不改变其功能
- 在大型系统中某些部分需要频繁维护时，可应用软件再工程
- **再工程的目的是努力使系统更易于维护，系统需要被再构造和再文档化**

优势：
- 减少风险：重新开发一个在用的系统具有很高的风险，可能会有开发问题、人员问题和规格说明问题
- 降低成本：再工程的成本比重新开发软件的成本要小得多

再工程过程：
- ![](https://raw.githubusercontent.com/QizhengZou/Drawing_bed/main/20211228210234.png)
1. 源代码转换 代码从原有的程序设计语言转换到一种新语言
2. 逆向工程 分析程序并抽取信息记录其结构和功能
3. 程序结构改善 分析和修改程序的控制结构，使其更易读和好理解
4. 程序模块化 重新组织程序的结构
5. 数据再工程 改变程序处理的数据以反映程序的变更

逆向工程
- 逆向工程是以复原软件的规格说明和设计为目标的软件分析过程
- 大多数情况下，逆向工程弥补缺乏良好文档的问题
- 开发阶段的文档与维护阶段的文档可能是不一致的
- 开发阶段编写的程序文档在维护阶段是非常有用的







