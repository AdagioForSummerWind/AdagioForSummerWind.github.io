<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>DistributedSystem_HongweiDu_12 - Jefo</title><meta name="Description" content="Jefo"><meta property="og:title" content="DistributedSystem_HongweiDu_12" />
<meta property="og:description" content="2021哈工大深圳堵宏伟分布式系统课程笔记 Transaction Processing Systems事务处理系统 File operations and Transaction operations： Definitions of Atomic Transactions ： Atomic Transaction: a sequence of data access operations that are atomic in the sense" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" /><meta property="og:image" content="https://qizhengzou.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-01T15:21:45+08:00" />
<meta property="article:modified_time" content="2022-01-01T00:00:00+00:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://qizhengzou.github.io/logo.png"/>

<meta name="twitter:title" content="DistributedSystem_HongweiDu_12"/>
<meta name="twitter:description" content="2021哈工大深圳堵宏伟分布式系统课程笔记 Transaction Processing Systems事务处理系统 File operations and Transaction operations： Definitions of Atomic Transactions ： Atomic Transaction: a sequence of data access operations that are atomic in the sense"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" /><link rel="prev" href="https://qizhengzou.github.io/distributedsystem_hongweidu_11/" /><link rel="next" href="https://qizhengzou.github.io/distributedsystem_hongweidu_13/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "DistributedSystem_HongweiDu_12",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/qizhengzou.github.io\/distributedsystem_hongweidu_12\/"
        },"image": ["https:\/\/qizhengzou.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "distributed system","wordcount":  2169 ,
        "url": "https:\/\/qizhengzou.github.io\/distributedsystem_hongweidu_12\/","datePublished": "2022-01-01T15:21:45+08:00","dateModified": "2022-01-01T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Jefo","logo": "https:\/\/qizhengzou.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Jefo"
            },"description": ""
    }
    </script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-193031966-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-193031966-2');
</script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Jefo"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Jefo</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> All posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/qizhengzou" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="直接搜索更方便^-^" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Jefo"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span>Jefo</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="直接搜索更方便^-^" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">All posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/qizhengzou" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">DistributedSystem_HongweiDu_12</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jefo</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/school-courses/"><i class="far fa-folder fa-fw"></i>School courses</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2022-01-01 15:21:45">2022-01-01 15:21:45</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 2169 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 5 分钟&nbsp;<span id="busuanzi_container_page_pv">
                    <i class="far fa-eye fa-fw"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>&nbsp;次阅读量</span>
                </span>
            </div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><blockquote>
<p>2021哈工大深圳堵宏伟分布式系统课程笔记</p>
</blockquote>
<h1 id="transaction-processing-systems事务处理系统">Transaction Processing Systems事务处理系统</h1>
<p>File operations and Transaction operations：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220659.png" /></li>
</ul>
<p>Definitions of Atomic Transactions ：</p>
<ul>
<li>Atomic Transaction: a sequence of data access operations that are atomic in the sense of:
<ul>
<li>All-or-Nothing</li>
<li>Serializability</li>
</ul>
</li>
<li>The ACID properties of a transaction in RM-ODP:
<ul>
<li>Atomicity</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Durability</li>
</ul>
</li>
</ul>
<p>What makes Database inconsistent?：</p>
<ul>
<li>Concurrent accesses of transactions</li>
<li>Failures of servers</li>
<li>Two well-known problems caused by concurrency:</li>
<li><strong>Lost update problem</strong></li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220857.png" /></li>
</ul>
<p>Inconsistent Retrieval Problem：</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101220928.png" /></li>
</ul>
<p>Problem Caused by Server Failures：</p>
<ul>
<li>Transaction: transfer(A, B, 100)</li>
<li>bal = A.Read();</li>
<li>A.Write(bal - 100);</li>
<li>&ldquo;bad&rdquo; &lt;-server crash point</li>
<li>bal = B.Read();</li>
<li>B.Write(bal + 100);</li>
</ul>
<p>Transactional File Operations:</p>
<ul>
<li>Transactions provide a programming environment:
<ul>
<li>Concurrency transparency</li>
<li>Failure transparency</li>
</ul>
</li>
<li>Transactional file service operations:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">TID = OpenTrans ()
(Commit, Abort) = CloseTrans (TID)
AbortTrans (TID)
TWrite(TID, FID, i, Data)
TRead(TID, FID, i, buf)
FID = TCreate(TID, filename, type)
TDelete(TID, FID)
 ......
</code></pre></td></tr></table>
</div>
</div><p>An Example of Using Transactions :</p>
<ul>
<li>Transaction: transfer (A, B, 100)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">tid = OpenTrans();
    Tread(tid, A, bal)
    Twrite(tid, accountA, bal-100)
    Tread(tid, accountB, bal)
    Twrite(tid, accountB, bal+100)
CloseTrans(tid);
</code></pre></td></tr></table>
</div>
</div><p>How to achieve atomicity of transactions?:</p>
<ul>
<li>Failure Recovery (guarantee nothing-or-all)
<ul>
<li>Intention list approach</li>
<li>Shadow version approach</li>
</ul>
</li>
<li>Concurrency Control (guarantee serializability)
<ul>
<li>2-Phase Locking</li>
<li>Timestamp Ordering</li>
<li>Optimistic Method</li>
</ul>
</li>
</ul>
<p>Failure Recovery of Transactions :</p>
<ul>
<li>An execution of a transaction has Two Phases:
<ol>
<li>Tentative phase, the execution transaction body</li>
<li>Commit phase, making tentative values permanent</li>
</ol>
</li>
<li>Making transactions failure recoverable:
<ul>
<li>Keep the tentative values of data on disk that can survive failures</li>
<li>Restore data items at the restart from a failure (recovery operation should be idempotent)</li>
<li>Make the commit phase repeatable</li>
</ul>
</li>
</ul>
<p>Intention List Approach (failure recovery) :</p>
<ul>
<li>Example of intention list:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">tid = OpenTrans;
    TWrite(tid, fd1, len1, data1);
    TWrite(tid, fd2, len2, data2);
Close(tid)
</code></pre></td></tr></table>
</div>
</div><ul>
<li>Intention List:</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">tid, status, 
{&#34;Twrite, fd, pos1, len1, data1&#34;, 
&#34;Twrite, fd, pos2, len2, data2&#34;}
</code></pre></td></tr></table>
</div>
</div><p>Implementation of Intention List:</p>
<ul>
<li>Transaction operations by using intention list:
<ul>
<li>Twrite writes data to the intention list.</li>
<li>Tread reads data from the intention list if it is present.</li>
<li>CloseTrans performs operations in the intention list onto database files (or the recovery file).</li>
</ul>
</li>
<li>Recovery manager: a program (part of the server) which is called when the server restarts from a failure.</li>
<li>Recovery file: a file used by the recovery manager to restore the database to a consistency state. Each entry of the file, for one transaction, contains the information:
<ul>
<li>Tid</li>
<li>transaction status</li>
<li>intention list</li>
</ul>
</li>
</ul>
<p>Example of recovery:</p>
<ul>
<li>Transactions T and U:</li>
<li>T: transfer (A, B, $20)</li>
<li>U: transfer (C, B, $22)</li>
<li>Recovery: remove tentative data created by U (p5 &amp; p6) and commit the data updated by T (p1 &amp; p2) to database.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221702.png" /></li>
</ul>
<p>Shadow Version Approach (failure recovery) :</p>
<ul>
<li>When a transaction modifies a file or data item, it creates a shadow (tentative) version of the file.</li>
<li>The subsequent Twrite/Tread are performed on the shadow version.</li>
<li>At closeTrans, it detects version conflict with other concurrent transactions (done by concurrency control).</li>
<li>If no conflict, the shadow version is merged with other concurrent versions already committed; otherwise it is aborted.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101221737.png" /></li>
</ul>
<p>Implementation of Shadow Version Approach:</p>
<ul>
<li>A copy of the file index block is created at the first Twrite of a transaction.</li>
<li>Each Twrite operation creates shadow pages. The index entries of modified pages are made pointing to the shadow pages.</li>
<li>The original file index block is replaced by the new one at the commit of the transaction (it’s an idempotent operation).</li>
</ul>
<p>Serializability (Serially Equivalent) :</p>
<ul>
<li>
<p>Two transactions may conflict with each other when they access the same data item(s).</p>
</li>
<li>
<p>Only write operations may cause inconsistency.</p>
</li>
<li>
<p>Def. Serializability:  T  U (T completes before U starts):</p>
<ol>
<li>read operations in U must read the data written by T</li>
<li>write operations in U must overwrite the data done by T</li>
<li>T cannot see any effect of U</li>
</ol>
</li>
</ul>
<p>Absolute Sequential Execution:</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222016.png" /></li>
</ul>
<p>Serial Equivalence:</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222049.png" /></li>
</ul>
<p>Non-serial Equivalence :</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222127.png" /></li>
</ul>
<p>Non-serial Equivalence of Lost Update and Inconsistent Retrievals:</p>
<ul>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222249.png" /></li>
</ul>
<p>Serializability of Transactions :</p>
<ul>
<li>
<p>Conflicting operations: Two operations access the same data item and one of them is write.</p>
</li>
<li>
<p>Conflicting transactions: Two transactions that have conflicting operations in them.</p>
</li>
<li>
<p>Serializability of transactionsT1 and T2:</p>
</li>
<li>
<p>Serializability of Transactions:</p>
<ul>
<li>The execution of a set of transactions T1 T2, &hellip;, Tm, is equivalent to the execution of them in a serial order, i.e., Ti1  Ti2 -&gt;  , &hellip;,  Tim</li>
</ul>
</li>
<li>
<p>Note: Serializability is the minimum requirement for database consistency in general.</p>
</li>
</ul>
<p>2-Phase Locking :</p>
<ul>
<li>First phase: obtaining locks.</li>
<li>Second phase: releasing locks.</li>
<li>When a transaction begins to release a lock, it cannot apply for locks any more.</li>
<li>Why two phases of locking?</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">    Server operations for T		Server operations for U	
    write(a); 				
	read(b);
				               	read(b); 
				               	write(b); 	
	write(b); 	
</code></pre></td></tr></table>
</div>
</div><p>Simple locking won’t work (2-Phase Locking):</p>
<ul>
<li>
<p>First phase: obtaining locks.</p>
</li>
<li>
<p>Second phase: releasing locks.</p>
</li>
<li>
<p>When a transaction begins to release a lock, it cannot apply for locks any more.</p>
</li>
<li>
<p>Think about by using simple locking:</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Server operations for T		Server operations for U	
lock(a);write(a); unlock(a)				
lock(b); read(b); unlock(b)
				               lock(b); read(b); unlock(b)
				               lock(b);write(b); unlock(b)	
lock(b);write(b); unlock(b)	
</code></pre></td></tr></table>
</div>
</div><p>2-Phase Locking :</p>
<ul>
<li>
<p>First phase: obtaining locks.</p>
</li>
<li>
<p>Second phase: releasing locks.</p>
</li>
<li>
<p>When a transaction begins to release a lock, it cannot apply for locks any more.</p>
</li>
<li>
<p>Use two phases of locking:</p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Server operations for T		Server operations for U	
lock(a);write(a); 				
lock(b); read(b); 
				               lock(b) – wait!!!  read(b); 
				               …….		write(b); 	
lock(b);write(b); unlock(a, b)	
</code></pre></td></tr></table>
</div>
</div><ul>
<li>Note: U cannot obtain lock on b until T completes.</li>
</ul>
<p>Serializability of 2-Phase Locking:</p>
<ul>
<li>Serializability: All transactions are serialized in the order of the time they obtain locks on data items.</li>
<li>Lock compatibility:<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101222824.png" /></li>
</ul>
<p>Implementation of Locking:</p>
<ul>
<li>Lock manager: a module of a server program. It maintains a table of locks for the data items of the server.Each entry in the table of locks has:
<ul>
<li>transaction ID</li>
<li>data-item ID</li>
<li>lock type</li>
<li>a condition variable (a queue for clients waiting unlock)</li>
</ul>
</li>
<li>Lock manager provides two operations:
<ul>
<li>lock(trans, dataItem, lockType)</li>
<li>unlock(trans), signal the condition variable</li>
</ul>
</li>
<li>The lock and unlock operations must be atomic</li>
</ul>
<p>Deadlock in 2-Phase Locking:</p>
<ul>
<li>Deadlock may occur in 2-Phase locking</li>
<li>Deadlock prevention and handling:
<ul>
<li>Lock all data items a transaction accesses at the start of the transaction.</li>
<li>Set timeout for waiting a lock.</li>
</ul>
</li>
</ul>
<p>Discussions on 2-Phase Locking:</p>
<ul>
<li>Advantages of locking:
<ol>
<li>No abort and restart.</li>
<li>Simple for understanding and implementation.</li>
</ol>
</li>
<li>Disadvantages:
<ol>
<li>Pessimistic.</li>
<li>Poor efficiency (cost of locking and clients waiting for locks).</li>
<li>Deadlock.</li>
</ol>
</li>
</ul>
<p>Timestamp Ordering :</p>
<ul>
<li>Serializability of Timestamp Ordering: transactions are serialized in the order of their start time (openTrans).</li>
<li>Important Timestamps:
<ol>
<li>Each transaction is assigned an unique timestamp T (also used as TID) at the open.</li>
<li>Each data item has a write-timestamp (wt) and a read-timestamp (rt).</li>
</ol>
</li>
</ul>
<p>Timestamp Ordering (Cont’d) :</p>
<ul>
<li>Read/Write Operations: the transaction’s timestamp T is compared with the rt and wt of the data to decide if the operation can proceed.</li>
<li>Read Rule:
<ul>
<li>transaction T can read a data item only if the data item was last written by an earlier transaction.</li>
<li>if a read of T is accepted, T becomes a tentative rt of the data (if T &gt; rt).</li>
</ul>
</li>
<li>Write Rule:
<ul>
<li>transaction T can write the data only if the data was last read and written by earlier transactions.</li>
<li>when a write of T is accepted, a tentative version of data is the created with timestamp T;</li>
</ul>
</li>
<li>Commitment:
<ul>
<li>when T commits, its tentative version of data and tentative rt become permanent;</li>
<li>if T aborts, all tentative data and rts created by T are removed.</li>
</ul>
</li>
</ul>
<p>Rules for Write:</p>
<ul>
<li>W1: T &gt;= rt and T &gt; wt, a tentative value is created.</li>
<li>W2: T &lt; rt (including tentative rt) or T &lt; wt, abort.</li>
<li>
<pre><code>                   T1 &lt; T2 &lt; T3 &lt; T4
</code></pre>
</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223354.png" /></li>
</ul>
<p>Rules for Read:</p>
<ul>
<li>R1: T &gt;= wt
<ul>
<li>if there is a tentative value made by itself, read this tentative value; otherwise:</li>
<li>if there are tentative values whose timestamps are earlier than T, wait for the tentative values committed; otherwise:</li>
<li>read data immediately.</li>
</ul>
</li>
<li>R2: T &lt; wt,  abort.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223512.png" /></li>
</ul>
<p>Commitment of Transactions:</p>
<ul>
<li>The commit of a tentative value (including a tentative rt of a data object) has to wait for the commit of tentative values of earlier transactions.</li>
<li>A transaction waits for the earlier transactions only, which avoids deadlocks.</li>
<li>Note: all transactions are serialized in the order of the time when they start (openTrans).</li>
</ul>
<p>Multiversion Timestamp Ordering ;</p>
<ul>
<li>The server keeps old committed versions (a history of versions) as well as tentative versions in a list of versions of the data.</li>
<li>A read that arrives too late need not be rejected. It returns the data whose version has the largest wt that is less than the transaction. A read still need to wait for a tentative version to commit/abort.</li>
<li>There is no conflict between write operations, bcs each transaction writes on its own version of the data. But a write will be rejected if the data was read by a later transaction.</li>
<li>A commit does not need to wait for earlier transactions (bcs multi-versions can co-exist) if it does not read data from earlier versions.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223611.png" /></li>
</ul>
<p>Multiversion Timestamp Ordering: late read / write:</p>
<ul>
<li>In multiversion timestamp ordering, a read operation can always proceed (provided the old version is still kept)</li>
<li>But a write operation arrived too late can still be rejected.</li>
<li>Example: after T3 read &amp; write…. (cont’d)..</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223652.png" /></li>
</ul>
<p>Multiversion Timestamp Ordering: late read/write (cont’d):</p>
<ul>
<li>Ater T5 reads the data and committed, if T4-write arrives, it’ll be aborted; otherwise you have conflict of T4 &amp; T5.</li>
<li>Rule: a write operation arrived too late can still be rejected.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223725.png" /></li>
</ul>
<p>Discussions on Timestamp Ordering:</p>
<ul>
<li>Advantages:
<ul>
<li>No deadlocks.</li>
</ul>
</li>
<li>Disadvantage:
<ul>
<li>Extra storage for timestamps.</li>
<li>Possible abort and restart.</li>
<li>A long transaction may block others.</li>
</ul>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Timestamp ordering method is pessmistic (over-strong):
T				U			
t1=openTrans
				t2 = openTrans
                                    	read(t2, b)
				write(t2 ,b)
				closeTrans(t2)
read(t1, b) 	 &lt;- T will abort (unnecessarily)
</code></pre></td></tr></table>
</div>
</div><p>Optimistic Method (Optimistic Timestamp Ordering) :</p>
<ul>
<li>Observation: the possibility of conflicts of two transactions is low. Transactions are allowed to progress as if there were no conflict at all.</li>
<li>A transaction has three phases: tentative, validation and commit.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101223902.png" /></li>
<li>Tentative phase: read and write are returned immediately (write is to a tentative version). Read set (RS) and Write set (WS) of the trans are recorded.</li>
<li>Validation phase: detect the conflicts with other concurrent transactions and decide commit/abort as the result.</li>
<li>Commit phase: commit tentative values made by the transaction.
Note: transactions are serialized in the order of their close time.</li>
</ul>
<p>Validation Condition :</p>
<ul>
<li>When validating Ti, system checks each Tj which is concurrent with Ti (i.e. Ti starts in between the start and completion of Tj).</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224000.png" /></li>
</ul>
<p>Implementation Details :</p>
<ul>
<li>Three important time points of a transaction:</li>
<li>start_t, finish_t and commit_t.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224053.png" /></li>
<li>validation_set: a set of transactions being in validation.</li>
<li>Note: start_t is the time of “openTrans”, finish_t is the time of “closeTrans”.</li>
</ul>
<p>Validation, Write, and Commit of Transaction Ti；</p>
<ol>
<li>When a Ti enters validation, record time finish_t,  make a copy of validation_set and add Ti into validation_set.
<ul>
<li>transactions whose commit_t is in between start_t and finish_t of Ti are concurrent in tentative phase but serial in validation phase with Ti.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224154.png" /></li>
<li>transactions in validation_set are concurrent in validation phase with Ti.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224215.png" /></li>
</ul>
</li>
<li>If Ti passes validation, it enters write-phase.</li>
<li>Ti&rsquo;s commit_t is recorded and Ti is removed from validation_set.</li>
</ol>
<p>How long we need to keep information of Ti：</p>
<ul>
<li>Information of committed transactions should be kept for other transactions validation:
<ul>
<li>the information of a transaction can be removed when its commit_t &lt; start_t of any uncommitted transaction in the system.</li>
<li><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png"
        data-srcset="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png 1.5x, https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png 2x"
        data-sizes="auto"
        alt="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png"
        title="https://raw.githubusercontent.com/QizhengZou/Image_hosting_rep/main/20220101224304.png" /></li>
</ul>
</li>
</ul>
<p>Discussions on Optimistic Method：</p>
<ul>
<li>Serializability
<ul>
<li>Transactions are serialized in the order of the time when they are closed.</li>
</ul>
</li>
<li>Starvation problem
<ul>
<li>a (long) transaction may be aborted again and again.</li>
</ul>
</li>
<li>Advantage
<ul>
<li>optimistic (high concurrency).</li>
<li>no deadlock.</li>
<li>a transaction will not be blocked by others.</li>
</ul>
</li>
<li>Disadvantage:
<ul>
<li>complicate.</li>
<li>starvation.</li>
<li>abort and restart.</li>
</ul>
</li>
</ul>
<p>Conclusion of Concurrency Control Methods：</p>
<ul>
<li>
<p>Two phase locking:</p>
<ul>
<li>Lock data items before access.</li>
<li>Serialized in the order of obtaining locks.</li>
<li>No abort and restart.</li>
</ul>
</li>
<li>
<p>Timestamp ordering:</p>
<ul>
<li>Check timestamps of data items before access.</li>
<li>Serialized in the order of start time.</li>
<li>Abort during execution.</li>
</ul>
</li>
<li>
<p>Optimistic method:</p>
<ul>
<li>Validate at the close.</li>
<li>Serialized in the order of close time.</li>
<li>Abort at validation.</li>
</ul>
</li>
</ul>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2022-01-01 00:00:00</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" data-title="DistributedSystem_HongweiDu_12" data-hashtags="distributed system"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" data-hashtag="distributed system"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Reddit" data-sharer="reddit" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" data-title="DistributedSystem_HongweiDu_12"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" data-title="DistributedSystem_HongweiDu_12"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 百度" data-sharer="baidu" data-url="https://qizhengzou.github.io/distributedsystem_hongweidu_12/" data-title="DistributedSystem_HongweiDu_12"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/baidu.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/distributed-system/">distributed system</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/distributedsystem_hongweidu_11/" class="prev" rel="prev" title="DistributedSystem_HongweiDu_11"><i class="fas fa-angle-left fa-fw"></i>DistributedSystem_HongweiDu_11</a>
            <a href="/distributedsystem_hongweidu_13/" class="next" rel="next" title="DistributedSystem_HongweiDu_13">DistributedSystem_HongweiDu_13<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="disqus_thread" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://disqus.com/?ref_noscript">Disqus</a>.
            </noscript></div></article></div>
            </main></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="https://jefos-blog.disqus.com/embed.js" defer></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"J0OW8CCKJZ","algoliaIndex":"JF","algoliaSearchKey":"3b4a19e831c95174aca4c03fcdf95f5c","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
